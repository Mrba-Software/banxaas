<div class="flex flex-row">

    <!--Stepper Vertical-->
    <!-- <div class="flex ml-10 lg:mt-[5%] md:mt-[15%] sm:mt-[25%] ml-[5%] flex-col w-[25%]">
        
      <div class="w-full flex justify-items-start completed">
        <div class="w-full relative flex flex-row">
          <div class="lg:mt-[10%] md:mt-[20%] sm:mt-[25%]  w-[50%] sm:text-[8px] md:text-[12px] lg:text-[18px]"><button (click)="showNotification()"><b class="text-green-design" *ngIf="notif || fonds || adresseBtc || close">1. Notification</b></button></div>
          <div class="line h-[100px] border border-green-design"></div>
          <div class="w-[15px] h-[15px] mt-[100px] relative right-[8px] border bg-green-design rounded-full"><button (click)="showEnvoiFonds()">&nbsp;</button></div>
  
        </div>
  
      </div>
  
  
      <div class="w-full flex justify-items-start completed">
        <div class="w-full relative flex flex-row">
          <div class="lg:mt-[10%] md:mt-[20%] sm:mt-[25%]  w-[50%] sm:text-[8px] md:text-[12px] lg:text-[18px]"><button (click)="showEnvoiFonds()"><b class="text-green-design" *ngIf="fonds || adresseBtc || close ">2. Envoi des fonds</b><span class="text-gray-400" *ngIf="!fonds && notif">2. Réception des fonds</span></button></div>
          <div  *ngIf="fonds || adresseBtc || close" class="line h-[100px] border border-green-design"></div>
          <div  *ngIf="!fonds && notif " class="line h-[100px] border border-gray-300"></div>
          <div *ngIf="fonds || adresseBtc || close" (click)="showAdresseBtc()" class="w-[15px] h-[15px] mt-[100px] relative right-[8px] border bg-green-design rounded-full"><button>&nbsp;</button></div>
  
        </div>
  
      </div>
  
      <div class="w-full flex justify-items-start  completed">
        <div class="w-full relative flex flex-row">
          <div class="lg:mt-[10%] md:mt-[20%] sm:mt-[25%]  w-[50%] sm:text-[8px] md:text-[12px] lg:text-[18px]"><button (click)="showAdresseBtc()"><b class="text-green-design" *ngIf="adresseBtc || close">3. Adresse Bitcoin</b><span class="text-gray-400" *ngIf="(!adresseBtc || fonds || notif) && !close">3. Adresse Bitcoin</span></button></div>
          <div *ngIf="adresseBtc || close" class="line h-[100px] border border-green-design"></div>
          <div  *ngIf="!adresseBtc && !close" class="line h-[100px] border border-gray-300"></div>
          <div *ngIf="adresseBtc || close" class="w-[15px] h-[15px] mt-[100px] relative right-[8px] border bg-green-design rounded-full"><button>&nbsp;</button></div> 
  
        </div>
  
      </div>
  
      
  
      <div class="w-full flex justify-items-start completed">
        <div class="w-full relative flex flex-row">
          <div class="lg:mt-[10%] md:mt-[20%] sm:mt-[25%]  w-[50%] sm:text-[8px] md:text-[12px] lg:text-[18px]"><button (click)="showClose()"><b class="text-green-design" *ngIf="close">4. Clôture</b><span class="text-gray-400" *ngIf="!close">4. Clôture</span></button></div>
          <div *ngIf="close" class="line h-[100px] border border-green-design"></div>
          <div *ngIf="!close " class="line h-[100px] border border-gray-300"></div>
  
        </div>
  
      </div>
  
    </div> -->

    <!--Page Content-->
    <!--Section Notification-->
    <div *ngIf="notif"
        class="flex flex-col justify-center shadow-xl bg-white md:w-[80%] lg:w-[60%] lg:ml-[20%] md:ml-[10%] lg:mt-[5%] md:mt-[20%] sm:mt-[30%] sm:w-[95%] rounded-md">
        <div class="lg:w-[90%] p-[5%]">
            <p class="lg:text-link sm:text-[8px] md:text-[12px] pl-[10%] ">Bonjour <b>{{pseudo}}.</b><br>
                <b>Pseudo du acheteur</b> souhaite acheter <b>Montant BTC</b>.<br>
            </p>

            <form [formGroup]="formAdresseBtc" class="w-full mt-[5%]">
                <div class="lg:w-full md:w-full sm:w-full text-center">
                    <label for="" class="lg:text-link sm:text-[8px] md:text-[12px]">Merci de transférer les <b>BTC</b> à
                        l'adresse suivante, afin d'initialiser la transaction</label>
                </div>
                <div class="lg:text-subtitle w-full flex mt-10 justify-center">
                    <input type="text" formControlName="adresse"
                        placeholder="bc1qn0r06gtwlamffet49fph9jnm9u2e2ylx5ns7qc" id=""
                        class="lg:w-[50%] md:w-[50%] sm:w-[80%] lg:text-link sm:text-[8px] md:text-[12px] px-4 py-2 mt-2 font-bold border border-green-design rounded-md focus:outline-none focus:ring-1 focus:ring-green-design" />
                    <button class="relative lg:top-2 right-8 text-green-design" (click)="copyText()">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M7 9a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9z" />
                            <path d="M5 3a2 2 0 00-2 2v6a2 2 0 002 2V5h8a2 2 0 00-2-2H5z" />
                        </svg>
                    </button>
                    <div *ngIf="copy" class="relative lg:top-4">Copié</div>
                </div>
            </form>

            <div class="lg:text-link sm:text-[8px] md:text-[12px] w-full flex p-5 mt-10 justify-center">
                <p class="lg:w-[60%]">Il vous reste <b> {{idhours}}h :&nbsp; {{idMinutes}}minutes :&nbsp;
                        {{idSeconds}}secondes </b>&nbsp; avant l'annulation automatique de l'offre</p>
            </div>
            <div class="lg:w-[40%] md:w-[30%] sm:w-[80%] lg:ml-[25%] md:ml-[25%] sm:ml-[5%] flex mt-5 justify-center">
                <div class="w-full bg-gray-200 rounded-full dark:bg-gray-700">
                    <div class="bg-green-design  p-0.5 leading-none rounded-full" style="width: {{progress}}%">
                        {{progress}}%</div>
                </div>
            </div>
            <div class="w-full flex justify-center mt-10">
                <button
                    (click)="showEnvoiFonds()"
                    class="w-[80%] px-8 py-4 text-green-500 border-green-500 lg:text-title md:text-link sm:text-[10px] uppercase rounded-3xl border-2 mx-5 font-bold">
                    confirmer l'envoie
                </button>
            </div>
        </div>
    </div>

    <!--Section Envoi Fonds-->
    <div *ngIf="fonds" class="flex flex-col justify-center shadow-xl bg-white md:w-[80%] lg:w-[60%] lg:ml-[20%] md:ml-[10%] lg:mt-[5%] md:mt-[20%] sm:mt-[35%] sm:w-[95%] rounded-md">
        <div class="lg:w-[90%] p-[5%]">
            <p class="lg:text-link sm:text-[8px] md:text-[12px] pl-[10%] ">
                <b>pseudo du vendeur</b> vient de vous envoyer <b>Montant</b> par <b>moyen_de_paiement</b>.<br>
                Merci de confirmer la bonne réception des fonds.
            </p>
            <p class="lg:text-link sm:text-[8px] md:text-[12px] text-center mt-[5%] pl-[10%]">
                Vous avez désormais <b>24h</b> pour confirmer. Passé ce délai, la transaction sera annulée et vous serez pénalisé de <b>10%</b> de vos fonds.<br>
            </p>
            
            <div class="lg:text-link sm:text-[8px] md:text-[12px] w-full flex p-5 mt-10 justify-center">
                <p class="lg:w-[60%]">Il vous reste <b> {{idhours}}h :&nbsp; {{idMinutes}}minutes :&nbsp;
                        {{idSeconds}}secondes </b>&nbsp; avant l'annulation automatique de l'offre</p>
            </div>
            
            <div class="lg:w-[40%] md:w-[30%] sm:w-[80%] lg:ml-[25%] md:ml-[25%] sm:ml-[5%] flex mt-5 justify-center">
                <div class="w-full bg-gray-200 rounded-full dark:bg-gray-700">
                    <div class="bg-green-design  p-0.5 leading-none rounded-full" style="width: {{progress}}%">
                        {{progress}}%</div>
                </div>
            </div>

            
            <div class="w-full flex justify-center mt-10">
                <button
                    (click)="showClose()"
                    class="w-[80%] px-8 py-4 text-green-500 border-green-500 lg:text-title md:text-link sm:text-[10px] uppercase rounded-3xl border-2 mx-5 font-bold">
                    confirmer l'envoie
                </button>
            </div>
        </div>
    </div>

    <!--Section Adresse BTC-->
    <div *ngIf="adresseBtc" class="w-[75%] flex flex-col min-h-screen">
        <div class="lg:w-[90%] lg:mt-[10%] md:mt-[20%] sm:mt-[45%]  p-[5%]">
            <p class="lg:text-link sm:text-[8px] md:text-[12px] pl-[10%] ">
                <b>pseudo du vendeur</b> a confirmé la réception des fonds.<br>
                Merci de communiquer une adresse bitcoin valide pour y recevoir les BTC achetés.
            </p>
            <form [formGroup]="formAdresseBtc" class="w-full">
                <div class="lg:text-subtitle w-full flex p-5 mt-10 justify-center">
                    <input type="text" formControlName="adresse"
                        placeholder="bc1qn0r06gtwlamffet49fph9jnm9u2e2ylx5ns7qc" id=""
                        class="lg:w-[50%] md:w-[50%] sm:w-[80%] px-4 py-2 mt-2 border border-green-design rounded-md focus:outline-none focus:ring-1 focus:ring-green-design" />
                </div>
                <div class="w-full flex justify-center mt-10">
                    <button
                        class="w-[80%] px-8 py-4 text-green-design border-green-design lg:text-title md:text-link sm:text-[10px] uppercase rounded-3xl border-2 mx-5 font-bold">
                        confirmer
                    </button>
                </div>
            </form>
        </div>
    </div>


    <!--Section Cloture-->
    <div *ngIf="close" class="flex flex-col justify-center shadow-xl bg-white md:w-[80%] lg:w-[60%] lg:ml-[20%] md:ml-[10%] lg:mt-[5%] md:mt-[20%] sm:mt-[45%] sm:w-[95%] rounded-md">

        <div class="lg:w-[90%] flex justify-center">
            <div class="ml-[10%] w-[40%] ">
                <img src="../../../../assets/3_.png" alt="">
            </div>
        </div>
        <div class="lg:w-[90%] ml-[15%] flex justify-center flex-col lg:text-link sm:text-[8px] md:text-[12px]">
            <div class="pl-[10%] ml-[10%] w-[40%] text-center">
                La transaction est désormais close.
            </div>
            <div class="pl-[10%] ml-[10%] w-[40%] text-center">
                Merci à bientot <b>{{pseudo}}</b>.
            </div>
        </div>
    </div>
</div>